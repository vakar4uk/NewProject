<!-- Navbar -->
<app-header></app-header>    

<!-- Main Content -->
<form (ngSubmit)="onSubmit(template)" #f="ngForm" class="form-addPatient">    
    <div class="col-lg-12 row" id="content">  
        <div id="printArea" class="form col-lg-6 text-center">

            <!-- Personal Information -->
            <h2>Add New Patient</h2><hr>                   
            <h5>Personal Information</h5>
            <div class="form-group">
                <label for="firstName" class="sr-only">First Name</label>
                <div class="input-group">
                    <span class="input-group-addon">First Name</span>
                <input
                inputmode="latin-name"                
                type="text"               
                id="firstName"
                class="col-lg-12 form-control"
                ngModel           
                name="firstName"
                required
                #firstName="ngModel">
                <span class="help-block" *ngIf="!firstName.valid && firstName.touched">Please enter first name</span>
                </div>            
            </div>
              <div class="form-group">
                  <label for="lastName" class="sr-only">Last Name</label>
                  <div class="input-group">
                      <span class="input-group-addon">Last Name</span>
                  <input
                  type="text"               
                  id="lastName"                  
                  class="col-lg-12 form-control"
                  ngModel            
                  name="lastName"
                  required
                  #lastName="ngModel">
                  <span class="help-block" *ngIf="!lastName.valid && lastName.touched">Please enter last name</span>
                  </div>
                  
              </div>   

              <div class="form-group">
                <label for="dob" class="sr-only">Date of Birth</label>
                <div class="input-group">
                    <span class="input-group-addon">Date of Birth</span>
                <input
                type="date"               
                id="dob"
                class="col-lg-12 form-control"
                ngModel            
                name="dob"
                required
                #dob="ngModel">
                <span class="help-block" *ngIf="!dob.valid && dob.touched">Please enter date of birth</span>
                </div>                
            </div>
            
            <div class="form-group">
                <div class="input-group">
                    <span class="input-group-addon">Gender</span>
                    <div>
                        <select class="form-control"
                         id="gender" 
                         name="gender" 
                         ngModel 
                         required
                         #gender="ngModel">                  
                            <option value="" disabled selected>Select...</option>
                            <option value="Male">Male</option>
                            <option value="Female">Female</option>
                        </select>
                    </div>
                    <span class="help-block" *ngIf="!gender.valid && gender.touched">Please select gender</span>                             
                    
                </div>                   
            </div><hr><!-- Personal Information      -->


            <!-- Address -->
            <br><h5>Address</h5>
            <div class="form-group">
                    <label for="street" class="sr-only">Street</label>
                    <div class="input-group">
                        <span class="input-group-addon">Street</span>
                    <input
                    type="text"               
                    id="street"                   
                    class="col-lg-12 form-control"
                    ngModel            
                    name="street"
                    required
                    #street="ngModel">
                    <span class="help-block" *ngIf="!street.valid && street.touched">Please enter street</span>
                    </div>
            </div>

            <div class="form-group">
                        <label for="unit" class="sr-only">Unit</label>
                        <div class="input-group">
                            <span class="input-group-addon">Unit</span>
                        <input
                        type="text"               
                        id="unit"                        
                        class="col-lg-12 form-control"
                        ngModel            
                        name="unit">
                        </div>
            </div>

            <div class="form-group">
                            <label for="sreet" class="sr-only">City</label>
                            <div class="input-group">
                                <span class="input-group-addon">City</span>
                            <input
                            type="text"               
                            id="City"                           
                            class="col-lg-12 form-control"
                            ngModel            
                            name="City"
                            required
                            #City="ngModel">
                            <span class="help-block" *ngIf="!City.valid && City.touched">Please enter city</span>
                            </div>
                            
            </div> 
                        
            <div class="form-group">
                  <label for="state" class="sr-only">State</label>                  
                  <div class="input-group">
                      <span class="input-group-addon">State</span>
                      <div>
                          <select 
                          class="form-control" 
                          id="state" 
                          name="state" 
                          ngModel 
                          required
                          #state="ngModel">
                            <option value="" disabled selected>Select...</option>
                            <option value="AK">Alaska</option>
                            <option value="AL">Alabama</option>
                            <option value="AR">Arkansas</option>
                            <option value="AZ">Arizona</option>
                            <option value="CA">California</option>
                            <option value="CO">Colorado</option>
                            <option value="CT">Connecticut</option>
                            <option value="DC">District of Columbia</option>
                            <option value="DE">Delaware</option>
                            <option value="FL">Florida</option>
                            <option value="GA">Georgia</option>
                            <option value="HI">Hawaii</option>
                            <option value="IA">Iowa</option>
                            <option value="ID">Idaho</option>
                            <option value="IL">Illinois</option>
                            <option value="IN">Indiana</option>
                            <option value="KS">Kansas</option>
                            <option value="KY">Kentucky</option>
                            <option value="LA">Louisiana</option>
                            <option value="MA">Massachusetts</option>
                            <option value="MD">Maryland</option>
                            <option value="ME">Maine</option>
                            <option value="MI">Michigan</option>
                            <option value="MN">Minnesota</option>
                            <option value="MO">Missouri</option>
                            <option value="MS">Mississippi</option>
                            <option value="MT">Montana</option>
                            <option value="NC">North Carolina</option>
                            <option value="ND">North Dakota</option>
                            <option value="NE">Nebraska</option>
                            <option value="NH">New Hampshire</option>
                            <option value="NJ">New Jersey</option>
                            <option value="NM">New Mexico</option>
                            <option value="NV">Nevada</option>
                            <option value="NY">New York</option>
                            <option value="OH">Ohio</option>
                            <option value="OK">Oklahoma</option>
                            <option value="OR">Oregon</option>
                            <option value="PA">Pennsylvania</option>
                            <option value="PR">Puerto Rico</option>
                            <option value="RI">Rhode Island</option>
                            <option value="SC">South Carolina</option>
                            <option value="SD">South Dakota</option>
                            <option value="TN">Tennessee</option>
                            <option value="TX">Texas</option>
                            <option value="UT">Utah</option>
                            <option value="VA">Virginia</option>
                            <option value="VT">Vermont</option>
                            <option value="WA">Washington</option>
                            <option value="WI">Wisconsin</option>
                            <option value="WV">West Virginia</option>
                            <option value="WY">Wyoming</option>
                          </select>
                        </div>  
                        <span class="help-block" *ngIf="!state.valid && state.touched">Please select state</span>
                  <span class="input-group-addon">Zipcode</span>
                  <input
                  minlength="5"
                  maxlength="5"        
                  type="tel"
                  min="0"                
                  id="zipcode"
                  class="col-lg-12 form-control"                  
                  ngModel                          
                  name="zipcode"
                  required
                  #zipcode="ngModel">
                  <span class="help-block" *ngIf="!zipcode.valid && zipcode.touched">Please enter zipcode</span> 

                  </div>                  
        </div><hr> <!-- Address -->

        <!-- Contact Information -->
        <br><h5>Contact Information</h5>
        <div class="form-group">
                <label for="phone" class="sr-only">Phone</label>
                        <div class="input-group">
                            <span class="input-group-addon">Phone</span>
                        <input
                        type="tel"  
                        placeholder="e.g. 1234567890"
                        pattern="[0-9]{10}"             
                        id="phone"                       
                        class="col-lg-12 form-control"
                        ngModel            
                        name="phone"
                        required
                        #phone="ngModel">
                        </div>
                        <span class="help-block" *ngIf="!phone.valid && phone.touched">Please eneter a valid phone!</span>
            </div>

            <div class="form-group">
                    <label for="patEmail" class="sr-only">Email</label>
                            <div class="input-group">
                                <span class="input-group-addon">Email</span>
                            <input
                            type="email"               
                            id="patEmail"                           
                            class="col-lg-12 form-control"
                            ngModel            
                            name="patEmail"                            
                            email
                            #email="ngModel">
                            <span class="help-block" *ngIf="!email.valid && email.touched">Please eneter a valid email!</span>
                            </div>
            </div><hr> <!-- Contact Information -->

            <!-- Medical History -->
            <br><h5>Medical History</h5>
            <p>Have patient had any of the following deseases or problems:</p>           
                <div class="form-group">
                        <div class="input-group">
                            <span class="input-group-addon">Condition</span>                          
                            <div>
                                <div *ngFor="let condition of conditions; let i = index">
                                    <label id="condition">
                                        <input
                                            type="checkbox"
                                            name="isCondition{{i}}"                                                                                 
                                            [ngModel] = "isCondition"> 
                                            {{ condition }}                                       
                                    </label>
                                </div>
                            </div>
                        </div>                   
                    </div><hr><!-- Medical History -->
                
                <!-- Additioonal Information -->
                <br><h5>Additional Information</h5>
                <div class="form-group">
                        <div class="input-group">
                <span class="input-group-addon">Notes</span>            
                        <textarea name="notes" id="notes" cols="110" rows="7" ngModel></textarea>
                    </div>
                </div>  <!-- Additioonal Information -->
                
                <hr><button (click)="print()" type="button" class="btn btn-lg btn-block btn-warning">Print<i class="fa fa-print" aria-hidden="true"></i></button><hr>

                <button 
                id="submit" 
                (click)="openModal(template)"
                class="btn btn-lg btn-success btn-block"
                [disabled]="!f.valid"                
                type="button"         
                >Add<i class="fa fa-plus" aria-hidden="true"></i></button>                 

                <hr><button type="button"  routerLink="/home" class="btn btn-lg btn-block btn-danger">Cancel<i class="fa fa-times" aria-hidden="true"></i></button><hr>
                
        </div>      
              
    </div>
</form>
<!-- Main Content -->

<!-- Alert Message -->
<!-- Check message -->
<template #template>
    <div class="modal-header">
        <h4 class="modal-title">Do you want to add this person?</h4>       
    </div>
    <div class="modal-body">      
      <button type="button" class="btn btn-primary" (click)="openModal2(templateNested); modalRef.hide(); addPerson()">Yes</button>
      <button type="button" class="btn btn-danger" (click)="modalRef.hide()">No</button>
    </div>
  </template>
   
  <!-- Confirmation message -->
  <template #templateNested>
    <div class="modal-header">
      <h4 class="modal-title-success">Person has been added!</h4>      
    </div>
    <div class="modal-body">
        <button (click)="print()" type="button" class="btn btn-warning">Print<i class="fa fa-print" aria-hidden="true"></i></button>
        <br><button routerLink="/home" type="button" class="btn btn-info" (click)="modalRef2.hide()">Home<i class="fa fa-home" aria-hidden="true"></i></button>
    </div>
  </template>

  <!-- Alert Message -->
<!-- Alert Message -->

<!-- Footer -->
<app-scrollablefooter></app-scrollablefooter>
<!-- Navbar -->
<app-header></app-header>

  <!-- Page Content -->
  <form id="printArea" (ngSubmit)="onSubmit()" #f="ngForm" class="form-addLabResults">   

  <!-- <div [hidden]="isInfoHidden" class="col-lg-12"> -->
  <div class="col-lg-12 row">
      <div class="container container1">
          <br><h2 (click)="populate()" class="text-center">Edit Blood Test Results</h2>
          <hr>       
          <div class="form-group">
              <label for="firstName" class="sr-only">First Name</label>
              <div class="input-group">
                  <span class="input-group-addon">First Name</span>
                  <input id="firstName" readonly="true" type="text" class="col-lg-10 form-control"
                      ngModel name="firstName" >                  
                 
              </div>
          </div>

          <div class="form-group">
              <label for="lastName" class="sr-only">Last Name</label>
              <div class="input-group">
                  <span class="input-group-addon">Last Name</span>
                  <input readonly="true" type="text" id="lastName" class="col-lg-10 form-control"
                      ngModel name="lastName" >                  
              </div>
          </div> 
      </div>
  </div>

  <!-- <div [hidden]="isTableHidden" class="col-lg-12 row"> -->
  <div [hidden]="isInfoHidden" class="col-lg-12 row">
    <div class="container container1">
      <h5 class="text-center">Please select date of the test</h5>
        <table id="blood-table" class="table table-striped table-bordered">
            <tr>
                <th>Select</th>
                <th>Date</th>              
            </tr>
    
            <!-- <tr  *ngFor="let person of pArray; let i = index">   -->
            <tr *ngFor="let blood of this._datatask.bArray; let i = index">
                <td><a id="selectPatient" (click)="getID(i)"><i class="fa fa-check-circle-o fa-2x" aria-hidden="true"></i></a></td>
                <td>{{blood.DateTaken}}</td>             
            </tr>
        </table>
        <hr><button routerLink="/labresultschart" type="button" class="btn btn-block btn-success">Dashboard<i class="fa fa-line-chart" aria-hidden="true"></i></button>  
    </div>
  </div>
    

      <div class="col-lg-12">
          <div class="container">
              <div id="date" class="input-group">
                  <span id="date-text" class="input-group-addon text-center">Date of the test</span>
              <input
              readonly="true"
              type="date"
              value=""               
              id="testDate"    
              class="col-lg-11 form-control"
              ngModel            
              name="testDate">
              </div><hr>
      <table id="table" class="table table-striped">
         <thead>
          <tr>
            <th>#</th>
            <th>Test</th>
            <th>Value</th>
            <th>Range</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <th scope="row">1</th>
            <td>Sodium</td>
            <td><input
              id="sodium"
              readonly="true"
              (blur)="changeStatusSodium2()"
              type="number"  min="0" step="1"            
              class="col-lg-3 form-control"
              ngModel            
              name="sodium" style = "display:inline">
              <button type="button" class="btn btn-primary"
              (click)="changeStatusSodium(); edit()" id="sodium">
              Edit<i class="fa fa-pencil" aria-hidden="true"></i>
              </button>
            </td>
            <td>135 - 145</td>
          </tr>
          <tr>
            <th scope="row">2</th>
            <td>Potassium</td>
            <td><input
              id="potassium"
              readonly="true"
              type="number"  min="0" step="0.1"            
              (blur)="changeStatusPotassium2()"
              class="col-lg-3 form-control"
              ngModel            
              name="potassium" style = "display:inline">
              <button type="button" class="btn btn-primary"
              (click)="changeStatusPotassium(); edit()" id="potassium">
              Edit<i class="fa fa-pencil" aria-hidden="true"></i>
              </button>
            </td>
            <td>3.5 - 5.2</td>
          </tr>
          <tr>
            <th scope="row">4</th>
            <td>Calcium</td>
            <td><input
              id="calcium"
              readonly="true"
              type="number"  min="0" step="0.1"            
              (blur)="changeStatusCalcium2()"
              class="col-lg-3 form-control"
              ngModel            
              name="calcium" style = "display:inline">
              <button type="button" class="btn btn-primary"
              (click)="changeStatusCalcium(); edit()" id="calcium">
              Edit<i class="fa fa-pencil" aria-hidden="true"></i>
              </button>
            </td>
            <td>8.5 - 10.6</td>
          </tr>
          <tr>
            <th scope="row">5</th>
            <td>Glucose</td>
            <td><input
              id="glucose"
              readonly="true"
              type="number"  min="0" step="0.1"            
              (blur)="changeStatusGlucose2()"
              class="col-lg-3 form-control"
              ngModel            
              name="glucose" style = "display:inline">
              <button type="button" class="btn btn-primary"
              (click)="changeStatusGlucose(); edit()" id="glucose">
              Edit<i class="fa fa-pencil" aria-hidden="true"></i>
              </button>
            </td>
            <td>3.9 - 5.5</td>
          </tr>
          <tr>
            <th scope="row">6</th>
            <td>Hemoglobin</td>
            <td><input
              id="hemoglobin"
              readonly="true"
              type="number"  min="0" step="0.1"            
              (blur)="changeStatusHemoglobin2()"
              class="col-lg-3 form-control"
              ngModel            
              name="hemoglobin" style = "display:inline">
              <button type="button" class="btn btn-primary"
              (click)="changeStatusHemoglobin(); edit()" id="hemoglobin">
              Edit<i class="fa fa-pencil" aria-hidden="true"></i>
              </button>
            </td>
            <td>13.8 - 17.2</td>
          </tr>
        </tbody>
      </table> 
      
      <!-- <hr><a class="button btn btn-block btn-info" href="mailto:someone@example.com?Subject=Blood Test" target="_top">Send Mail<i class="fa fa-envelope-o" aria-hidden="true"></i></a>       -->

      <hr><button (click)="print()" type="button" class="btn btn-block btn-warning">Print<i class="fa fa-print" aria-hidden="true"></i></button><hr>

      <button id="submit" (click)="onSubmit"
      class="btn btn-lg btn-danger btn-block" 
      [hidden]="isSubmitted"
      [disabled]="!f.valid"
      type="submit"  
      [hidden]="!isEdited"       
      >Save<i class="fa fa-floppy-o" aria-hidden="true"></i></button> 
      
      <button id="submit" (click)="onSubmit"
      class="btn btn-lg btn-info btn-block" 
      [hidden]="!isSubmitted"
      type="submit"         
      >See previous results</button>   
      
    </div>
      </div>
    
  </form>
  
  <!-- Page Content -->
  
 <!-- Alert Message -->
<template #template>
    <div class="modal-header">
      <h4 class="modal-title pull-left">Saved!</h4>
      <button type="button" class="close pull-right" aria-label="Close" (click)="modalRef.hide()">
        <span aria-hidden="true">&times;</span>
      </button>
    </div>
    <div class="modal-body">
      Updated Succesfully!
    </div>
</template>
<!-- Alert Message --> 

<!-- Footer -->
  <app-scrollablefooter></app-scrollablefooter>

<!-- <div *ngIf="isTableHidden || isInfoHidden">
    <app-stickyfooter></app-stickyfooter>
</div>
<div *ngIf="!isTableHidden && !isInfoHidden">
    <app-scrollablefooter></app-scrollablefooter>
</div> -->
